schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      md5: 2d359e344125100dce529cf3205e38f3
      size: 1774
    params:
      params.yaml:
        prepare.dataset: HIV.csv
        prepare.seed: 42
        prepare.split: 0.25
    outs:
    - path: data/prepared/test.csv
      md5: 94abf273022d3cfc11990105ded67740
      size: 537710
    - path: data/prepared/train.csv
      md5: b3be635ee27b878b99a2df16fb08e304
      size: 1615034
  featurize:
    cmd: python src/featurize.py
    deps:
    - path: data/prepared/test.csv
      md5: 94abf273022d3cfc11990105ded67740
      size: 537710
    - path: data/prepared/train.csv
      md5: b3be635ee27b878b99a2df16fb08e304
      size: 1615034
    - path: src/featurize.py
      md5: ec31d8793aed41800cd14b8d0fa93590
      size: 3255
    params:
      params.yaml:
        featurize.mol_representation: morganfingerprint-2-1024
        general.X: smiles
        general.y: HIV_active
    outs:
    - path: data/featurized/test.csv
      md5: 971a07f82cfe9c22c8147c1f7d884fd6
      size: 21092404
    - path: data/featurized/train.csv
      md5: ed1df58b2e7d9979d745cc91a7883a96
      size: 63267117
  train:
    cmd: python src/train.py
    deps:
    - path: data/featurized/test.csv
      md5: 971a07f82cfe9c22c8147c1f7d884fd6
      size: 21092404
    - path: data/featurized/train.csv
      md5: ed1df58b2e7d9979d745cc91a7883a96
      size: 63267117
    - path: src/train.py
      md5: abd758dd7287c0625b42649ef58af26c
      size: 1634
    params:
      params.yaml:
        general.seed: 42
        general.y: HIV_active
        train.max_iter: 1000
    outs:
    - path: pipeline_artifacts/model.pkl
      md5: 466dfb0f4006ad02ebf4fe61b00f4ab4
      size: 15062
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/featurized/test.csv
      md5: 971a07f82cfe9c22c8147c1f7d884fd6
      size: 21092404
    - path: data/featurized/train.csv
      md5: ed1df58b2e7d9979d745cc91a7883a96
      size: 63267117
    - path: pipeline_artifacts/model.pkl
      md5: 466dfb0f4006ad02ebf4fe61b00f4ab4
      size: 15062
    - path: src/evaluate.py
      md5: f51435af5a982ac0c04ee92573369b59
      size: 5667
    outs:
    - path: scores.json
      md5: 9a63ad5b658f27509791327f8e9d1b6f
      size: 237
